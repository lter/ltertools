[{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to ltertools","title":"Contributing to ltertools","text":"Please follow contributing instructions relevant subheading consider best contribute ltertools. Thank interest!","code":""},{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":"contributing-a-new-function","dir":"","previous_headings":"","what":"Contributing a New Function","title":"Contributing to ltertools","text":"Adding function ’ve written core ltertools’ reason existing. function ’d like contribute please following: Open GitHub issue paste entirety function issue Please also provide 1-paragraph description function /contexts function invoked description provide sufficient detail R expert can gain fundamental understanding function’s purpose can necessary maintenance integration likely form basis “Description” field function ltertools users can access ?function feel free use existing function’s help file reference (e.g., ?dplyr::filter, etc.) ’ve provided information can work towards standardizing function formatting (casing, syntax, etc.) function can included suite available tools!","code":""},{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":"function-credit","dir":"","previous_headings":"Contributing a New Function","what":"Function Credit","title":"Contributing to ltertools","text":"decide contribute function ltertools offer following benefits: list preferred name DESCRIPTION file author ’d like, can add : email, professional website, link ORCiD taking steps hope ensure intellectual contributions appropriately credited ltertools users can find facets professional work based links R package.","code":""},{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":"minor-edits--suggestions","dir":"","previous_headings":"","what":"Minor Edits / Suggestions","title":"Contributing to ltertools","text":"either (1) calling attention bug/error (2) making small suggestion improvement, suggest open GitHub issue. bugs, please include minimal reproducible example can quickly reproduce resolve bug suggestions, please precise possible know scope changes needed implement idea(s)","code":""},{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":"major-changes","dir":"","previous_headings":"","what":"Major Changes","title":"Contributing to ltertools","text":"major change necessitating systemic/structural changes ltertools recommend following: Fork GitHub repository Add function script (necessary data files) dev folder fork finished edits, submit pull request","code":""},{"path":"https://lter.github.io/ltertools/CONTRIBUTING.html","id":"style-guide","dir":"","previous_headings":"","what":"Style Guide","title":"Contributing to ltertools","text":"happy tweak function/argument names needed maintain consistent “feel” functions ltertools. said, ’d like make changes welcome though aesthetic changes optional. ltertools adhere following stylistic elements: Use “snake case” (.e., lowercase separated underscores) functions arguments (e.g., my_function(argument_1 = ...), etc.) function prints informative messages, include quiet argument accepts logical (.e., TRUE FALSE). Please suppress messages quiet = TRUE. Include errors / warnings user inputs arguments inappropriate class structure (.e., code defensively)","code":""},{"path":"https://lter.github.io/ltertools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"BSD 3 Clause License","title":"BSD 3 Clause License","text":"Copyright (c) [], [] Redistribution use source binary forms, without modification, permitted provided following conditions met: SOFTWARE PROVIDED COPYRIGHT HOLDERS CONTRIBUTORS “” EXPRESS IMPLIED WARRANTIES, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE DISCLAIMED. EVENT SHALL COPYRIGHT HOLDER CONTRIBUTORS LIABLE DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, CONSEQUENTIAL DAMAGES (INCLUDING, LIMITED , PROCUREMENT SUBSTITUTE GOODS SERVICES; LOSS USE, DATA, PROFITS; BUSINESS INTERRUPTION) HOWEVER CAUSED THEORY LIABILITY, WHETHER CONTRACT, STRICT LIABILITY, TORT (INCLUDING NEGLIGENCE OTHERWISE) ARISING WAY USE SOFTWARE, EVEN ADVISED POSSIBILITY DAMAGE.","code":"Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.  Neither the name of the <ORGANIZATION> nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission."},{"path":"https://lter.github.io/ltertools/articles/ltertools.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"ltertools Vignette","text":"ltertools package goal ltertools centralize R functions created members Long Term Ecological Research (LTER) community. Many functions likely broad relevance expands beyond context creation package attempt share tools limit amount “re-inventing wheel” silos. conceptual theme functions ltertools necessarily broad given scope community aim serve. said, identity package likely become clear accrue contributed functions. vignette describes main functions ltertools currently exist.","code":"# devtools::install_github(\"lter/ltertools\") library(ltertools)"},{"path":"https://lter.github.io/ltertools/articles/ltertools.html","id":"reproducibility","dir":"Articles","previous_headings":"Overview","what":"Reproducibility","title":"ltertools Vignette","text":"LTER Network Office fund–work closely –synthesis working groups. groups write lot code, often R, pursuit scientific questions. Reproducibility vital collaborative, multi-year groups. end, ’ve developed functions try handle common reproducibility hurdles groups face. Among issues fact data often stored ‘cloud’ (e.g., Dropbox, Box, etc.) accessed via pseudo-local folder “synced”. reproducibility issue often push coders use absolute file paths reference data files stored way. ’ve discovered researchers can place information (including absolute paths) local JSON file unique user contains names user-specific values. users name file identically code can written access values stored JSON file make user-specific content referrable flexible reproducible way. make_json meant make easier create JSON file member collaboration. Values JSON can accessed need personal user.","code":"# Create user-specific information my_info <- c(\"data_path\" = \"Users/me/dropbox/big-data-project/data\")  # Generate a local folder for exporting temp_folder <- tempdir()  # Create a JSON with those contents make_json(x = my_info, file = file.path(temp_folder, \"user.json\"))  # Read it back in (user_info <- RJSONIO::fromJSON(content = file.path(temp_folder, \"user.json\"))) #>                                data_path  #> \"Users/me/dropbox/big-data-project/data\" df <- read.csv(file = file.path(user_info$data_path, \"data_2024.csv\"))"},{"path":"https://lter.github.io/ltertools/articles/ltertools.html","id":"harmonization","dir":"Articles","previous_headings":"Overview","what":"Harmonization","title":"ltertools Vignette","text":"LTER Network hypothesis-driven focus long term data sites network. results data may reasonably compared –potentially–quite differently formatted based logic investigators responsible dataset. Data harmonization (process resolving formatting inconsistencies facilitate combination/comparison across projects) therefore significant hurdle many projects using LTER data. suggest “column key”-based approach potential greatly simplify harmonization efforts. method requires researchers develop 3-column key contains (1) name raw data file harmonized, (2) name columns files, (3) “tidy name” corresponds raw column name. dataset can read raw names replaced tidy ones specified key. done files specified folder, can combined newly consistent column names. demonstrate workflow, need create example data tables export temporary directory (can read back required harmonization functions). raw data must folder, data key dataframe R allow flexibility user’s end file format / storage (many LTER working groups like generating key collaboratively Google Sheet). example, can generate data key manually . example files key object generated, can now demonstrate actual workflow! fundamental functions harmonize. function requires “column key” described , well folder containing raw data files key refers. Raw data format can also specified CSV, TXT, XLS, /XLSX. quiet argument silence messages key--data mismatches (either expected--missing column names unexpected columns). users want help generating column key, created begin_key function. function accepts raw folder data format arguments included harmonize additional (optional) guess_tidy argument. TRUE, argument attempts “guess” desired tidy name raw column name; standardizing casing removing special characters. may ideal anticipate many raw data files differ casing/special characters rather phrased incompatibly. example ’ll allow key “guess”. visual version column key approach harmonization included convenience :","code":"# Generate two simple tables ## Dataframe 1 df1 <- data.frame(\"xx\" = c(1:3),                   \"unwanted\" = c(\"not\", \"needed\", \"column\"),                   \"yy\" = letters[1:3]) ## Dataframe 2 df2 <- data.frame(\"LETTERS\" = letters[4:7],                   \"NUMBERS\" = c(4:7),                   \"BONUS\" = c(\"plantae\", \"animalia\", \"fungi\", \"protista\"))  # Generate a known temporary folder for exporting temp_folder <- tempdir()  # Export both files to that folder utils::write.csv(x = df1, file = file.path(temp_folder, \"df1.csv\"), row.names = FALSE) utils::write.csv(x = df2, file = file.path(temp_folder, \"df2.csv\"), row.names = FALSE) # Generate a key that matches the data we created above key_obj <- data.frame(\"source\" = c(rep(\"df1.csv\", 3),                                     rep(\"df2.csv\", 3)),                       \"raw_name\" = c(\"xx\", \"unwanted\", \"yy\",                                      \"LETTERS\", \"NUMBERS\", \"BONUS\"),                       \"tidy_name\" = c(\"numbers\", NA, \"letters\",                                       \"letters\", \"numbers\", \"kingdom\")) # Check that out key_obj #>    source raw_name tidy_name #> 1 df1.csv       xx   numbers #> 2 df1.csv unwanted      <NA> #> 3 df1.csv       yy   letters #> 4 df2.csv  LETTERS   letters #> 5 df2.csv  NUMBERS   numbers #> 6 df2.csv    BONUS   kingdom # Use the key to harmonize our example data harmony_df <- ltertools::harmonize(key = key_obj, raw_folder = temp_folder,                                     data_format = \"csv\", quiet = TRUE)  # Check the structure of that utils::str(harmony_df) #> tibble [7 × 4] (S3: tbl_df/tbl/data.frame) #>  $ source : chr [1:7] \"df1.csv\" \"df1.csv\" \"df1.csv\" \"df2.csv\" ... #>  $ numbers: chr [1:7] \"1\" \"2\" \"3\" \"4\" ... #>  $ letters: chr [1:7] \"a\" \"b\" \"c\" \"d\" ... #>  $ kingdom: chr [1:7] NA NA NA \"plantae\" ... # Generate a column key with \"guesses\" at tidy column names test_key <- ltertools::begin_key(raw_folder = temp_folder, data_format = \"csv\",                                   guess_tidy = TRUE)  # Examine what that generated test_key #>    source raw_name tidy_name #> 1 df1.csv       xx        xx #> 2 df1.csv unwanted  unwanted #> 3 df1.csv       yy        yy #> 4 df2.csv  LETTERS   letters #> 5 df2.csv  NUMBERS   numbers #> 6 df2.csv    BONUS     bonus"},{"path":"https://lter.github.io/ltertools/articles/ltertools.html","id":"wrangling","dir":"Articles","previous_headings":"Overview","what":"Wrangling","title":"ltertools Vignette","text":"Sometimes convenient read data files specified folder. read offers chance just returns list name element corresponding file name contents list element full data table. Users may specify data format formats wish read . Currently, read supports CSV, TXT, XLS, XLSX files. can demonstrate test CSVs created demonstrate harmonization workflow earlier. different note, solar_day_info function allows identify time sunrise, sunset, solar noon (well total length day) day specified start end date set latitude/longitude coordinates. times UTC information retrieved returned dataframe. Much synthesis work LTER data–indeed many ecological research projects generally–requires quantification variation. end, ’ve written function simply calculates coefficient variation (standard deviation divided mean) vector numbers. sd mean support argument defining missing values handled, cv function well. also included simple function converting temperature values (convert_temp) among different accepted units. Simply specify values convert, current units, units like convert function perform needed arithmetic. Units case-insensitive support either one-letter abbreviation full name unit. Note chose function’s naming convention part allow ecosystem related ‘unit conversion’ functions may prove worthwhile develop.","code":"# Read in all (both) of the CSVs that we created above data_list <- ltertools::read(raw_folder = temp_folder, data_format = \"csv\")  # Check the structure of that utils::str(data_list) #> List of 2 #>  $ df1.csv:'data.frame': 3 obs. of  3 variables: #>   ..$ xx      : int [1:3] 1 2 3 #>   ..$ unwanted: chr [1:3] \"not\" \"needed\" \"column\" #>   ..$ yy      : chr [1:3] \"a\" \"b\" \"c\" #>  $ df2.csv:'data.frame': 4 obs. of  3 variables: #>   ..$ LETTERS: chr [1:4] \"d\" \"e\" \"f\" \"g\" #>   ..$ NUMBERS: int [1:4] 4 5 6 7 #>   ..$ BONUS  : chr [1:4] \"plantae\" \"animalia\" \"fungi\" \"protista\" # Identify day information in Santa Barbara (California) for one week solar_day_info(lat = 34.41, lon = -119.71,                 start_date = \"2022-02-07\", end_date = \"2022-02-12\",                 quiet = TRUE) #>         date    sunrise     sunset solar_noon day_length time_zone #> 1 2022-02-07 2:49:59 PM 1:35:56 AM 8:12:57 PM   10:45:57       UTC #> 2 2022-02-08 2:49:05 PM 1:36:54 AM 8:13:00 PM   10:47:49       UTC #> 3 2022-02-09 2:48:10 PM 1:37:52 AM 8:13:01 PM   10:49:42       UTC #> 4 2022-02-10 2:47:14 PM 1:38:50 AM 8:13:02 PM   10:51:36       UTC #> 5 2022-02-11 2:46:16 PM 1:39:48 AM 8:13:02 PM   10:53:32       UTC #> 6 2022-02-12 2:45:17 PM 1:40:45 AM 8:13:01 PM   10:55:28       UTC # Calculate CV (excluding missing values) ltertools::cv(x = c(4, 5, 6, 4, 5, 5), na_rm = TRUE) #> [1] 0.1557461 # Convert some temperatures from F to Kelvin convert_temp(value = c(0, 32, 110), from = \"Fahrenheit\", to = \"k\") #> [1] 255.3722 273.1500 316.4833"},{"path":"https://lter.github.io/ltertools/articles/ltertools.html","id":"lter-information","dir":"Articles","previous_headings":"Overview","what":"LTER Information","title":"ltertools Vignette","text":"LTER Network composed many separate sites. sites “long term” vary slightly created. interested knowing temporal coverage data particular site group sites, site_timeline can prove helpful function. function creates ggplot2 timeline sites vertical axis years horizontal. Lines colored based habitat site support user-defined set hexadecimal colors though default internal palette used. Sites can specified three letter site code sites particular habitat can included.  Running function without specifying site codes habitat types result timeline active LTER sites.","code":"# Check the timeline for all grassland or forest LTER sites ltertools::site_timeline(habitats = c(\"grassland\", \"forest\")) # Check the timeline for all LTER sites ltertools::site_timeline()"},{"path":"https://lter.github.io/ltertools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nicholas Lyon. Author, maintainer.            https://njlyon0.github.io/ Angel Chen. Author.            angelchen7.github.io Miguel C. Leon. Contributor.            https://luquillo.lter.network/ National Science Foundation. Funder.           NSF 1929393, 09/01/2019 - 08/31/2024 University California, Santa Barbara. Copyright holder.","code":""},{"path":"https://lter.github.io/ltertools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lyon N, Chen (2024). ltertools: Tools Developed Long Term Ecological Research Community. R package version 1.0.0.900, https://lter.github.io/ltertools/.","code":"@Manual{,   title = {ltertools: Tools Developed by the Long Term Ecological Research Community},   author = {Nicholas Lyon and Angel Chen},   year = {2024},   note = {R package version 1.0.0.900},   url = {https://lter.github.io/ltertools/}, }"},{"path":"https://lter.github.io/ltertools/index.html","id":"ltertools---tools-developed-by-the-long-term-ecological-research-community","dir":"","previous_headings":"","what":"Tools Developed by the Long Term Ecological Research Community","title":"Tools Developed by the Long Term Ecological Research Community","text":"goal ltertools centralize R functions created members Long Term Ecological Research (LTER) community. Many functions likely broad relevance expands beyond context creation package attempt share tools limit amount “re-inventing wheel” silos. conceptual theme functions ltertools necessarily broad given scope community aim serve. said, identity package likely become clear accrue contributed functions. meantime, please hesitate add request function fear doesn’t “fit” package. may eventually become concern stage aiming house extant functions regardless relatedness one another.","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools Developed by the Long Term Ecological Research Community","text":"can install development version ltertools GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"lter/ltertools\")"},{"path":"https://lter.github.io/ltertools/index.html","id":"function-overview","dir":"","previous_headings":"","what":"Function Overview","title":"Tools Developed by the Long Term Ecological Research Community","text":"functions added package briefly summarized attributed author(s)","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"harmonization","dir":"","previous_headings":"Function Overview","what":"Harmonization","title":"Tools Developed by the Long Term Ecological Research Community","text":"begin_key – creates first two columns ‘column key’ –optional guess_tidy argument set TRUE–“guesses” tidy names ‘’ harmonize – performs column key-based harmonization. strongly recommend using begin_key start creation column key make sure formatting requirements function met","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"data-wrangling","dir":"","previous_headings":"Function Overview","what":"Data Wrangling","title":"Tools Developed by the Long Term Ecological Research Community","text":"read – Reads files specified types particular folder stores elements list. List element names respective file names. Currently supports CSV, TXT, XLS, XLSX file formats solar_day_info – Identify sunrise, sunset, solar noon, day length dates within user-specified range particular coordinates. Function concept contributed Miguel C. Leon cv – Calculate coefficient variation (CV) vector numbers convert_temp – Convert temperature values one set units another","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"lter-information","dir":"","previous_headings":"Function Overview","what":"LTER Information","title":"Tools Developed by the Long Term Ecological Research Community","text":"site_timeline – Create timeline sites meet user-specified site code /habitat criteria. Uses built lter_sites data object includes much useful site information","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Tools Developed by the Long Term Ecological Research Community","text":"See CONTRIBUTING.md specifics glance: contribute one functions exchange authorship credit: open GitHub issue suggest minor fixes point bugs: open GitHub issue implement major / structural changes: fork repository, add content dev folder, open pull request finished ltertools maintain consistent “feel” style functions (maintainers) happy perform edits behalf. ’d like take care (completely optional!) welcome . Please see CONTRIBUTING.md specific style guide.","code":""},{"path":"https://lter.github.io/ltertools/index.html","id":"synonymous-function-procedure","dir":"","previous_headings":"","what":"Synonymous Function Procedure","title":"Tools Developed by the Long Term Ecological Research Community","text":"like contribute function similar function already exists ltertools please hesitate! event happens, following steps followed: functions combined preserve earlier function’s elements expanding include maximum number novel features (.e., arguments / options) older function’s name retained avoid unnecessary deprecation flags function authors credited combined function’s description README (see )","code":""},{"path":"https://lter.github.io/ltertools/reference/begin_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate the Skeleton of a Column Key — begin_key","title":"Generate the Skeleton of a Column Key — begin_key","text":"Creates start 'column key' harmonizing data. column key includes column file names harmonized single data object well column column names files. Finally, includes column indicating tidied name corresponds raw column name. Harmonization can accept key object use rename raw column names–reproducible way–standardize across datasets. Currently supports raw files following formats: CSV, TXT, XLS, XLSX","code":""},{"path":"https://lter.github.io/ltertools/reference/begin_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate the Skeleton of a Column Key — begin_key","text":"","code":"begin_key(   raw_folder = NULL,   data_format = c(\"csv\", \"txt\", \"xls\", \"xlsx\"),   guess_tidy = FALSE )"},{"path":"https://lter.github.io/ltertools/reference/begin_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate the Skeleton of a Column Key — begin_key","text":"raw_folder (character) folder / folder path containing data files include key data_format (character) file extensions identify within raw_folder. Default behavior search supported file types. guess_tidy (logical) whether attempt \"guess\" tidy name equivalent raw column name. accomplished via coercion lowercase removal special character/repeated characters. FALSE (default) \"tidy_name\" column returned empty","code":""},{"path":"https://lter.github.io/ltertools/reference/begin_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate the Skeleton of a Column Key — begin_key","text":"(dataframe) skeleton column key","code":""},{"path":"https://lter.github.io/ltertools/reference/begin_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate the Skeleton of a Column Key — begin_key","text":"","code":"# Generate two simple tables ## Dataframe 1 df1 <- data.frame(\"xx\" = c(1:3),                   \"unwanted\" = c(\"not\", \"needed\", \"column\"),                   \"yy\" = letters[1:3]) ## Dataframe 2 df2 <- data.frame(\"LETTERS\" = letters[4:7],                   \"NUMBERS\" = c(4:7),                   \"BONUS\" = c(\"plantae\", \"animalia\", \"fungi\", \"protista\"))  # Generate a local folder for exporting temp_folder <- tempdir()  # Export both files to that folder utils::write.csv(x = df1, file = file.path(temp_folder, \"df1.csv\"), row.names = FALSE) utils::write.csv(x = df2, file = file.path(temp_folder, \"df2.csv\"), row.names = FALSE)  # Generate a column key with \"guesses\" at tidy column names ltertools::begin_key(raw_folder = temp_folder, data_format = \"csv\", guess_tidy = TRUE) #>    source raw_name tidy_name #> 1 df1.csv       xx        xx #> 2 df1.csv unwanted  unwanted #> 3 df1.csv       yy        yy #> 4 df2.csv  LETTERS   letters #> 5 df2.csv  NUMBERS   numbers #> 6 df2.csv    BONUS     bonus"},{"path":"https://lter.github.io/ltertools/reference/convert_temp.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Temperature Values — convert_temp","title":"Convert Temperature Values — convert_temp","text":"Converts given set temperature values one unit another","code":""},{"path":"https://lter.github.io/ltertools/reference/convert_temp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Temperature Values — convert_temp","text":"","code":"convert_temp(value = NULL, from = NULL, to = NULL)"},{"path":"https://lter.github.io/ltertools/reference/convert_temp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Temperature Values — convert_temp","text":"value (numeric) temperature values convert (character) starting units value, case sensitive. (character) units convert, case sensitive.","code":""},{"path":"https://lter.github.io/ltertools/reference/convert_temp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Temperature Values — convert_temp","text":"(numeric) converted temperature values","code":""},{"path":"https://lter.github.io/ltertools/reference/convert_temp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Temperature Values — convert_temp","text":"","code":"# Convert from Fahrenheit to Celsius convert_temp(value = 32, from = \"Fahrenheit\", to = \"c\") #> [1] 0"},{"path":"https://lter.github.io/ltertools/reference/cv.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Coefficient of Variation — cv","title":"Calculate Coefficient of Variation — cv","text":"Computes coefficient variation (CV), dividing standard deviation (SD) arithmetic mean set numbers. na_rm TRUE missing values removed calculation completed","code":""},{"path":"https://lter.github.io/ltertools/reference/cv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Coefficient of Variation — cv","text":"","code":"cv(x, na_rm = TRUE)"},{"path":"https://lter.github.io/ltertools/reference/cv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Coefficient of Variation — cv","text":"x (numeric) vector numbers calculate CV na_rm (logical) whether remove missing values average SD calculation","code":""},{"path":"https://lter.github.io/ltertools/reference/cv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Coefficient of Variation — cv","text":"(numeric) coefficient variation","code":""},{"path":"https://lter.github.io/ltertools/reference/cv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Coefficient of Variation — cv","text":"","code":"# Convert from Fahrenheit to Celsius cv(x = c(4, 5, 6, 4, 5, 5), na_rm = TRUE) #> [1] 0.1557461"},{"path":"https://lter.github.io/ltertools/reference/harmonize.html","id":null,"dir":"Reference","previous_headings":"","what":"Harmonize Data via a Column Key — harmonize","title":"Harmonize Data via a Column Key — harmonize","text":"\"column key\" meant streamline harmonization disparate datasets. key must include three columns containing: (1) name raw data file harmonized, (2) name columns files, (3) \"tidy name\" corresponds raw column name. function accepts key path folder containing raw data files included key. dataset read original column names replaced respective \"tidy_name\" indicated key. done files, single dataframe returned columns indicated column name. Currently following file formats supported raw data: CSV, TXT, XLS, XLSX Note raw column names without associated tidy name key removed. recommend using begin_key function package generate skeleton key make achieving required structure simpler.","code":""},{"path":"https://lter.github.io/ltertools/reference/harmonize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Harmonize Data via a Column Key — harmonize","text":"","code":"harmonize(   key = NULL,   raw_folder = NULL,   data_format = c(\"csv\", \"txt\", \"xls\", \"xlsx\"),   quiet = TRUE )"},{"path":"https://lter.github.io/ltertools/reference/harmonize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Harmonize Data via a Column Key — harmonize","text":"key (dataframe) key object including \"source\", \"raw_name\" \"tidy_name\" column. Additional columns allowed ignored raw_folder (character) folder / folder path containing data files include key data_format (character) file extensions identify within raw_folder. Default behavior search supported file types. quiet (logical) whether suppress certain non-warning messages. Defaults TRUE","code":""},{"path":"https://lter.github.io/ltertools/reference/harmonize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Harmonize Data via a Column Key — harmonize","text":"(dataframe) harmonized dataframe including columns defined \"tidy_name\" column key object","code":""},{"path":"https://lter.github.io/ltertools/reference/harmonize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Harmonize Data via a Column Key — harmonize","text":"","code":"# Generate two simple tables ## Dataframe 1 df1 <- data.frame(\"xx\" = c(1:3),                   \"unwanted\" = c(\"not\", \"needed\", \"column\"),                   \"yy\" = letters[1:3]) ## Dataframe 2 df2 <- data.frame(\"LETTERS\" = letters[4:7],                   \"NUMBERS\" = c(4:7),                   \"BONUS\" = c(\"plantae\", \"animalia\", \"fungi\", \"protista\"))  # Generate a local folder for exporting temp_folder <- tempdir()  # Export both files to that folder utils::write.csv(x = df1, file = file.path(temp_folder, \"df1.csv\"), row.names = FALSE) utils::write.csv(x = df2, file = file.path(temp_folder, \"df2.csv\"), row.names = FALSE)  # Generate a column key object manually key_obj <- data.frame(\"source\" = c(rep(\"df1.csv\", 3),                                     rep(\"df2.csv\", 3)),                       \"raw_name\" = c(\"xx\", \"unwanted\", \"yy\",                                      \"LETTERS\", \"NUMBERS\", \"BONUS\"),                     \"tidy_name\" = c(\"numbers\", NA, \"letters\",                                     \"letters\", \"numbers\", \"kingdom\"))  # Use that to harmonize the 'raw' files we just created ltertools::harmonize(key = key_obj, raw_folder = temp_folder, data_format = \"csv\") #> # A tibble: 7 × 4 #>   source  numbers letters kingdom  #>   <chr>   <chr>   <chr>   <chr>    #> 1 df1.csv 1       a       NA       #> 2 df1.csv 2       b       NA       #> 3 df1.csv 3       c       NA       #> 4 df2.csv 4       d       plantae  #> 5 df2.csv 5       e       animalia #> 6 df2.csv 6       f       fungi    #> 7 df2.csv 7       g       protista"},{"path":"https://lter.github.io/ltertools/reference/lter_sites.html","id":null,"dir":"Reference","previous_headings":"","what":"Long Term Ecological Research Site Information — lter_sites","title":"Long Term Ecological Research Site Information — lter_sites","text":"currently 28 field sites involved Long Term Ecological Research (LTER) network. sites occupy range habitats started / renewed site-specific timelines. make information readily available interested parties, data object summarizes key components site easy--use data format.","code":""},{"path":"https://lter.github.io/ltertools/reference/lter_sites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Long Term Ecological Research Site Information — lter_sites","text":"","code":"lter_sites"},{"path":"https://lter.github.io/ltertools/reference/lter_sites.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Long Term Ecological Research Site Information — lter_sites","text":"Dataframe 8 columns 32 rows name Full name LTER site code Abbreviation (typically three letters) site name habitat Simplified habitat designation site (\"mixed\" complex habitat contexts) start_year Year initial funding NSF official LTER site end_year End current funding cycle grant latitude Degrees latitude site longitude Degrees longitude site site_url Website URL site","code":""},{"path":"https://lter.github.io/ltertools/reference/lter_sites.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Long Term Ecological Research Site Information — lter_sites","text":"Long Term Ecological Research Network Office. https://lternet.edu/site/","code":""},{"path":"https://lter.github.io/ltertools/reference/ltertools-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ltertools: Tools Developed by the Long Term Ecological Research Community — ltertools-package","title":"ltertools: Tools Developed by the Long Term Ecological Research Community — ltertools-package","text":"Set data science tools created various members Long Term Ecological Research (LTER) community. functions initially written largely standalone operations later aggregated package.","code":""},{"path":[]},{"path":"https://lter.github.io/ltertools/reference/ltertools-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ltertools: Tools Developed by the Long Term Ecological Research Community — ltertools-package","text":"Maintainer: Nicholas Lyon lyon@nceas.ucsb.edu (ORCID) (https://njlyon0.github.io/) Authors: Angel Chen anchen@nceas.ucsb.edu (ORCID) (angelchen7.github.io) contributors: Miguel C. Leon (ORCID) (https://luquillo.lter.network/) [contributor] National Science Foundation (NSF 1929393, 09/01/2019 - 08/31/2024) [funder] University California, Santa Barbara [copyright holder]","code":""},{"path":"https://lter.github.io/ltertools/reference/make_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a JSON File with Specified Contents — make_json","title":"Make a JSON File with Specified Contents — make_json","text":"Creates JSON (JavaScript Object Notation) file containing specified name/value pairs. files hugely flexible interpretable wide variety coding languages thus extremely useful many contexts. function meant assist wish use JSON files store user-specific information (e.g., email addresses, absolute file paths, etc.) collaborative contexts.","code":""},{"path":"https://lter.github.io/ltertools/reference/make_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a JSON File with Specified Contents — make_json","text":"","code":"make_json(x = NULL, file = NULL)"},{"path":"https://lter.github.io/ltertools/reference/make_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a JSON File with Specified Contents — make_json","text":"x (character) named vector generate JSON content. Vector elements become JSON values vector element names become JSON names. named vector can created like : c(\"greeting\" = \"hello\", \"farewell\" = \"goodbye\"). characters left equal signs names characters right values. file (character) name JSON file create contents provided x. Must end \".json\"","code":""},{"path":"https://lter.github.io/ltertools/reference/make_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a JSON File with Specified Contents — make_json","text":"nothing. Called side-effects (.e., creating JSON file)","code":""},{"path":"https://lter.github.io/ltertools/reference/make_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a JSON File with Specified Contents — make_json","text":"","code":"# Create contents my_info <- c(\"data_path\" = \"Users/me/documents/my_project/data\")  # Generate a local folder for exporting temp_folder <- tempdir()  # Create a JSON with those contents make_json(x = my_info, file = file.path(temp_folder, \"user.json\"))  # Read it back in (user_info <- RJSONIO::fromJSON(content = file.path(temp_folder, \"user.json\"))) #>                            data_path  #> \"Users/me/documents/my_project/data\""},{"path":"https://lter.github.io/ltertools/reference/read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Data from Folder — read","title":"Read Data from Folder — read","text":"Reads data files specified types found designated folder. Returns list one element data file. Currently supports CSV, TXT, XLS, XLSX","code":""},{"path":"https://lter.github.io/ltertools/reference/read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Data from Folder — read","text":"","code":"read(raw_folder = NULL, data_format = c(\"csv\", \"txt\", \"xls\", \"xlsx\"))"},{"path":"https://lter.github.io/ltertools/reference/read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Data from Folder — read","text":"raw_folder (character) folder / folder path containing data files read data_format (character) file extensions identify within raw_folder. Default behavior search supported file types.","code":""},{"path":"https://lter.github.io/ltertools/reference/read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Data from Folder — read","text":"(list) data found specified folder specified file format(s)","code":""},{"path":"https://lter.github.io/ltertools/reference/read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Data from Folder — read","text":"","code":"# Generate two simple tables ## Dataframe 1 df1 <- data.frame(\"xx\" = c(1:3),                   \"unwanted\" = c(\"not\", \"needed\", \"column\"),                   \"yy\" = letters[1:3]) ## Dataframe 2 df2 <- data.frame(\"LETTERS\" = letters[4:7],                   \"NUMBERS\" = c(4:7),                   \"BONUS\" = c(\"plantae\", \"animalia\", \"fungi\", \"protista\"))  # Generate a local folder for exporting temp_folder <- tempdir()  # Export both files to that folder utils::write.csv(x = df1, file = file.path(temp_folder, \"df1.csv\"), row.names = FALSE) utils::write.csv(x = df2, file = file.path(temp_folder, \"df2.csv\"), row.names = FALSE)  # Read in all CSV files in that folder read(raw_folder = temp_folder, data_format = \"csv\") #> $df1.csv #>   xx unwanted yy #> 1  1      not  a #> 2  2   needed  b #> 3  3   column  c #>  #> $df2.csv #>   LETTERS NUMBERS    BONUS #> 1       d       4  plantae #> 2       e       5 animalia #> 3       f       6    fungi #> 4       g       7 protista #>"},{"path":"https://lter.github.io/ltertools/reference/site_subset.html","id":null,"dir":"Reference","previous_headings":"","what":"Subsets the LTER Site Information Table by Site Codes and Habitats — site_subset","title":"Subsets the LTER Site Information Table by Site Codes and Habitats — site_subset","text":"Subsets information long term ecological research (LTER) sites based user-specified site codes (.e., three letter abbreviations), /desired habitats. See lter_sites full set site information","code":""},{"path":"https://lter.github.io/ltertools/reference/site_subset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subsets the LTER Site Information Table by Site Codes and Habitats — site_subset","text":"","code":"site_subset(sites = NULL, habitats = NULL)"},{"path":"https://lter.github.io/ltertools/reference/site_subset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subsets the LTER Site Information Table by Site Codes and Habitats — site_subset","text":"sites (character) three letter site code(s) identifying site(s) interest habitats (character) habitat(s) interest. See unique(lter_sites$habitat)","code":""},{"path":"https://lter.github.io/ltertools/reference/site_subset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subsets the LTER Site Information Table by Site Codes and Habitats — site_subset","text":"(dataframe) complete site information (8 columns) sites meet provided site code /habitat criteria","code":""},{"path":"https://lter.github.io/ltertools/reference/site_timeline.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","title":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","text":"Creates ggplot2 plot sites meet user-specified site code (.e., three letter abbreviation) /habitat criteria. See lter_sites full set site information including accepted site codes habitat designations (unrecognized entries trigger warning ignored). Lines grouped colored habitat better emphasize possible similarities among sites","code":""},{"path":"https://lter.github.io/ltertools/reference/site_timeline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","text":"","code":"site_timeline(sites = NULL, habitats = NULL, colors = NULL)"},{"path":"https://lter.github.io/ltertools/reference/site_timeline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","text":"sites (character) three letter site code(s) identifying site(s) interest habitats (character) habitat(s) interest. See unique(lter_sites$habitat) colors (character) colors assign timelines expressed hexadecimal (e.g, #00FF00). Note must many colors habitats included graph","code":""},{"path":"https://lter.github.io/ltertools/reference/site_timeline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","text":"(ggplot2) plot object timeline site(s) meet user-specified criteria","code":""},{"path":"https://lter.github.io/ltertools/reference/site_timeline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Timeline of Site(s) that Meet Criteria — site_timeline","text":"","code":"# Make the full timeline of all sites with default colors by supplying no arguments site_timeline()   # Or make a timeline of only sites that meet certain criteria site_timeline(habitats = c(\"grassland\", \"forest\"))"},{"path":"https://lter.github.io/ltertools/reference/solar_day_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify Solar Day Information — solar_day_info","title":"Identify Solar Day Information — solar_day_info","text":"days specified start end date, identify time sunrise, sunset, solar noon (UTC) well day length. idea function contributed Miguel C. Leon Python equivalent lives Luquillo site's LUQ-general-utils GitHub repository.","code":""},{"path":"https://lter.github.io/ltertools/reference/solar_day_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify Solar Day Information — solar_day_info","text":"","code":"solar_day_info(   lat = NULL,   lon = NULL,   start_date = NULL,   end_date = NULL,   quiet = FALSE )"},{"path":"https://lter.github.io/ltertools/reference/solar_day_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify Solar Day Information — solar_day_info","text":"lat (numeric) latitude coordinate find day length lon (numeric) longitude coordinate find day length start_date (character) starting date 'YYYY-MM-DD' format end_date (character) ending date 'YYYY-MM-DD' format quiet (logical) whether suppress certain non-warning messages. Defaults TRUE","code":""},{"path":"https://lter.github.io/ltertools/reference/solar_day_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify Solar Day Information — solar_day_info","text":"(dataframe) table 6 columns number rows equal number days specified start end dates (inclusive). Columns contain: (1) date, (2) sunrise time, (3) sunset time, (4) solar noon, (5) day length, (6) time zone columns 2 4.","code":""},{"path":"https://lter.github.io/ltertools/reference/solar_day_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify Solar Day Information — solar_day_info","text":"","code":"# Identify day information in Santa Barbara (California) for one week solar_day_info(lat = 34.416857, lon = -119.712777,                 start_date = \"2022-02-07\", end_date = \"2022-02-12\",                 quiet = TRUE) #>         date    sunrise     sunset solar_noon day_length time_zone #> 1 2022-02-07 2:50:00 PM 1:35:56 AM 8:12:58 PM   10:45:56       UTC #> 2 2022-02-08 2:49:06 PM 1:36:54 AM 8:13:00 PM   10:47:48       UTC #> 3 2022-02-09 2:48:11 PM 1:37:52 AM 8:13:02 PM   10:49:41       UTC #> 4 2022-02-10 2:47:15 PM 1:38:50 AM 8:13:03 PM   10:51:35       UTC #> 5 2022-02-11 2:46:17 PM 1:39:48 AM 8:13:03 PM   10:53:31       UTC #> 6 2022-02-12 2:45:18 PM 1:40:46 AM 8:13:02 PM   10:55:28       UTC"},{"path":"https://lter.github.io/ltertools/news/index.html","id":"ltertools-version-100900","dir":"Changelog","previous_headings":"","what":"ltertools Version 1.0.0.900","title":"ltertools Version 1.0.0.900","text":"Development version ltertools. ERRORs, WARNINGs, NOTEs returned devtools::check(). Changes latest release listed made. New function: make_json creates JSON containing name/value pairs named vector New function: solar_day_info identifies sunrise, sunset, solar noon, day length dates within user-specified range particular coordinates Function update: harmonize now includes new defensive warning/error checks informative messages likely sources error Unit tests added functions currently package. Likely limited impact users except better adherence best practice make stronger package long run","code":""},{"path":"https://lter.github.io/ltertools/news/index.html","id":"ltertools-version-100","dir":"Changelog","previous_headings":"","what":"ltertools Version 1.0.0","title":"ltertools Version 1.0.0","text":"CRAN release: 2024-02-23 ERRORs, WARNINGs, NOTEs returned devtools::check(). New function: read – reads data files particular folder stores list New function: begin_key – creates start “column key” data harmonization New function: harmonize – performs column key-based harmonization raw data New function: cv – calculates coefficient variation vector numbers New function: convert_temp – converts temperature values one specified unit another New dataset: lter_sites – includes primary habitat, latitude/longitude coordinates, funding start/end years every site currently network New function: site_timeline – creates ggplot2-style timeline sites meet user-specified criteria (site code /habitat)","code":""}]
